<!-- 
/////////////////////////////////////////////////////////////////////////////
	This is a modified version of Blizzard's WorldMapFrame.xml file (v5.0.4 r16016)
/////////////////////////////////////////////////////////////////////////////
-->

<Ui xmlns="http://www.blizzard.com/wow/ui/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.blizzard.com/wow/ui/
..\FrameXML\UI.xsd">

<Script file="OmegaMapBountyBoard.lua"/>
<Script file="OmegaMapActionButton.lua"/>

<Include file="OmegaMapFrameTemplates.xml"/>
<Script file="OmegaMapFrame.lua"/>
<Script file="OmegaMapHotSpot.lua"/>
<Script file= "AltMaps\OmegaMapExteriors.lua" />
<Script file= "AltMaps\OmegaMapBattlegrounds.lua" />
<Script file="OmegaMapAltMaps.lua"/>

<Frame name="OmegaMapMasterFrame" setAllPoints="true" hidden="false" enableMouse="false" enableKeyboard="true" clampedToScreen="true" movable="true" >
	<Size>
		<AbsDimension x="1024" y="768"/>
	</Size>
	<Anchors>
		<Anchor point="Center"/>
	</Anchors>
	<Frames>
		<Frame name="OmegaMapMovementFrameTop" hidden="true" enableMouse="true" >
			<Size>
					<AbsDimension x="1002" y="32"/>
			</Size>
			<Anchors>
				<Anchor point="TOPLEFT" relativeTo="OmegaMapMasterFrame" relativePoint="TOPLEFT"/>
				<Anchor point="TOPRIGHT" relativeTo="OmegaMapMasterFrame" relativePoint="TOPRIGHT"/>
									<Offset>
						<AbsDimension x="0" y="20"/>
					</Offset>
			</Anchors>
			<Layers>
				<Layer level="ARTWORK">
				<Texture file="Interface\QuestFrame\UI-QuestTitleHighlight" alphaMode="ADD"/>
				</Layer>
			</Layers>
			<Scripts>
				<OnShow>
					self:SetFrameLevel( self:GetParent():GetFrameLevel() + 3 );
				</OnShow>
				<OnMouseDown>
					self:GetParent():StartMoving();
					self:GetParent().isMoving = true;
					OmegaMapBlobFrame:DrawBlob(GetSuperTrackedQuestID(), false);
				</OnMouseDown>
				<OnMouseUp>
					self:GetParent():StopMovingOrSizing();
					self:GetParent().isMoving = false;
					OmegaMapBlobFrame:DrawBlob(GetSuperTrackedQuestID(), true);
				</OnMouseUp>
				<OnHide>
					self:GetParent():StopMovingOrSizing();
					self:GetParent().isMoving = false;
				</OnHide>
			</Scripts>
		</Frame>
		<Frame name="OmegaMapMovementFrameBottom" hidden="true" enableMouse="true" >
			<Size>
					<AbsDimension x="1002" y="32"/>
			</Size>
			<Anchors>
				<Anchor point="BOTTOMLEFT" relativeTo="OmegaMapMasterFrame" relativePoint="BOTTOMLEFT"/>
				<Anchor point="BOTTOMRIGHT" relativeTo="OmegaMapMasterFrame" relativePoint="BOTTOMRIGHT"/>
									<Offset>
						<AbsDimension x="0" y="20"/>
					</Offset>
			</Anchors>
			<Layers>
				<Layer level="ARTWORK">
				<Texture file="Interface\QuestFrame\UI-QuestTitleHighlight" alphaMode="ADD"/>
				</Layer>
			</Layers>
			<Scripts>
				<OnShow>
					self:SetFrameLevel( self:GetParent():GetFrameLevel() + 3 );
				</OnShow>
				<OnMouseDown>
					self:GetParent():StartMoving();
					self:GetParent().isMoving = true;
					OmegaMapBlobFrame:DrawBlob(GetSuperTrackedQuestID(), false);
				</OnMouseDown>
				<OnMouseUp>
					self:GetParent():StopMovingOrSizing();
					self:GetParent().isMoving = false;
					OmegaMapBlobFrame:DrawBlob(GetSuperTrackedQuestID(), true);
				</OnMouseUp>
				<OnHide>
					self:GetParent():StopMovingOrSizing();
					self:GetParent().isMoving = false;
				</OnHide>
			</Scripts>
		</Frame>
		<Frame name="OmegaMapFrame" frameStrata="FULLSCREEN" setAllPoints="true" hidden="true" enableKeyboard="true" enableMouse="false" clampedToScreen="false" toplevel="true" >
			<Size>
				<AbsDimension x="1024" y="768"/>
			</Size>
			<Anchors>
				<Anchor point="Center"/>
			</Anchors>
			<Scripts>
			</Scripts>
			<Animations>
				<AnimationGroup parentKey="AnimAlphaIn">
					<Alpha parentKey="Alpha" fromAlpha="0" toAlpha="0.65" startDelay="0.25" duration="0.55" order="1"/>
					<Scripts>
						<OnFinished>
							OmegaMapFrame:SetAlpha(WORLD_MAP_MAX_ALPHA); --CHECK
						</OnFinished>
					</Scripts>				
				</AnimationGroup>
				<AnimationGroup parentKey="AnimAlphaOut">
					<Alpha parentKey="Alpha" fromAlpha="0.65" toAlpha="0" startDelay="0.25" duration="0.55" order="1"/>
					<Scripts>
						<OnFinished>
							OmegaMapFrame:SetAlpha(WORLD_MAP_MIN_ALPHA);  --CHECK
						</OnFinished>
					</Scripts>
				</AnimationGroup>
			</Animations>
			<Frames>
				<Frame name="OmegaMapTitleDropDown" inherits="UIDropDownMenuTemplate" hidden="true">
					<Anchors>
						<Anchor point="TOP" x="-80" y="-35"/>
					</Anchors>
				</Frame>
				<ScrollFrame name="OmegaMapScrollFrame">
					<Size x="1002" y="668"/>
					<Anchors>
						<Anchor point="TOP" x="0" y="-68"/>
					</Anchors>
					<Scripts>
						<OnMouseWheel function="OmegaMapScrollFrame_OnMouseWheel"/>
					</Scripts>
					<ScrollChild>
						<Frame>
							<Size x="10" y="10"/>
							<Anchors>
								<Anchor point="TOPLEFT" x="0" y="0"/>
							</Anchors>
							<Frames>
								<Frame name="OmegaMapDetailFrame" hidden="false" frameLevel="100">
									<Size x="1002" y="668"/>
									<Anchors>
										<Anchor point="TOPLEFT" x="0" y="0"/>
									</Anchors>

									<Frames>
									<Frame name="OmegaMapDetailTilesFrame" setAllPoints="true" frameLevel="100" >
																	<Layers>
										<Layer level="BACKGROUND">
												<Texture name="OmegaMapDetailTile1">
												<Size x="256" y="256"/>
												<Anchors>
													<Anchor point="TOPLEFT"/>
												</Anchors>
											</Texture>
											<Texture name="OmegaMapDetailTile2">
												<Size x="256" y="256"/>
												<Anchors>
													<Anchor point="TOPLEFT" relativeTo="OmegaMapDetailTile1" relativePoint="TOPRIGHT"/>
												</Anchors>
											</Texture>
											<Texture name="OmegaMapDetailTile3">
												<Size x="256" y="256"/>
												<Anchors>
													<Anchor point="TOPLEFT" relativeTo="OmegaMapDetailTile2" relativePoint="TOPRIGHT"/>
												</Anchors>
											</Texture>
											<Texture name="OmegaMapDetailTile4">
												<Size x="256" y="256"/>
												<Anchors>
													<Anchor point="TOPLEFT" relativeTo="OmegaMapDetailTile3" relativePoint="TOPRIGHT"/>
												</Anchors>
											</Texture>	
											<Texture name="OmegaMapDetailTile5">
												<Size x="256" y="256"/>
												<Anchors>
													<Anchor point="TOPLEFT" relativeTo="OmegaMapDetailTile1" relativePoint="BOTTOMLEFT"/>
												</Anchors>
											</Texture>
											<Texture name="OmegaMapDetailTile6">
												<Size x="256" y="256"/>
												<Anchors>
													<Anchor point="TOPLEFT" relativeTo="OmegaMapDetailTile5" relativePoint="TOPRIGHT"/>
												</Anchors>
											</Texture>
											<Texture name="OmegaMapDetailTile7">
												<Size x="256" y="256"/>
												<Anchors>
													<Anchor point="TOPLEFT" relativeTo="OmegaMapDetailTile6" relativePoint="TOPRIGHT"/>
												</Anchors>
											</Texture>
											<Texture name="OmegaMapDetailTile8">
												<Size x="256" y="256"/>
												<Anchors>
													<Anchor point="TOPLEFT" relativeTo="OmegaMapDetailTile7" relativePoint="TOPRIGHT"/>
												</Anchors>
											</Texture>
											<Texture name="OmegaMapDetailTile9">
												<Size x="256" y="256"/>
												<Anchors>
													<Anchor point="TOPLEFT" relativeTo="OmegaMapDetailTile5" relativePoint="BOTTOMLEFT"/>
												</Anchors>
											</Texture>
											<Texture name="OmegaMapDetailTile10">
												<Size x="256" y="256"/>
												<Anchors>
													<Anchor point="TOPLEFT" relativeTo="OmegaMapDetailTile9" relativePoint="TOPRIGHT"/>
												</Anchors>
											</Texture>
											<Texture name="OmegaMapDetailTile11">
												<Size x="256" y="256"/>
												<Anchors>
													<Anchor point="TOPLEFT" relativeTo="OmegaMapDetailTile10" relativePoint="TOPRIGHT"/>
												</Anchors>
											</Texture>
											<Texture name="OmegaMapDetailTile12">
												<Size x="256" y="256"/>
												<Anchors>
													<Anchor point="TOPLEFT" relativeTo="OmegaMapDetailTile11" relativePoint="TOPRIGHT"/>
												</Anchors>
											</Texture>	
										</Layer>
										<Layer level="BACKGROUND" textureSubLevel="1">
											<Texture name="OmegaMapInvasionOverlay" atlas="legioninvasion-map-cover" />
										</Layer>
										<Layer level="OVERLAY">
											<Texture name="OmegaMapHighlight" alphaMode="ADD" hidden="true">
												<Size x="128" y="128"/>
												<Anchors>
													<Anchor point="TOPLEFT"/>
												</Anchors>
											</Texture>
										</Layer>
										<Layer level="ARTWORK">
											<FontString name="OmegaMapZoneInfo" inherits="SubZoneTextFont" justifyH="CENTER" hidden="true">
												<Anchors>
													<Anchor point="BOTTOM" relativePoint="BOTTOM" x="0" y="20"/>
												</Anchors>
											</FontString>
											<FontString name="MapFramerateLabel" hidden="true" inherits="SystemFont_Shadow_Med1" text="FRAMERATE_LABEL">
												<Anchors>
													<Anchor point="BOTTOM" relativePoint="BOTTOM" x="0" y="64"/>
												</Anchors>
											</FontString>
											<FontString name="MapFramerateText" hidden="true" inherits="SystemFont_Shadow_Med1">
												<Anchors>
													<Anchor point="LEFT" relativeTo="MapFramerateLabel" relativePoint="RIGHT"/>
												</Anchors>
											</FontString>
										</Layer>
									</Layers>
									</Frame>
									<Button name="OmegaMapButton" setAllPoints="true">
										<Layers>
											<Layer level="ARTWORK">
												<Texture parentKey="AzerothHighlight" file="Interface\AddOns\OmegaMap\Icons\Cosmic-Azeroth-Highlight" hidden="true">
													<Size x="1024" y="1024"/>
													<Anchors>
														<Anchor point="TOPLEFT" x="0" y="0"/>
													</Anchors>
												</Texture>												
												<Texture parentKey="OutlandHighlight" file="Interface\AddOns\OmegaMap\Icons\Cosmic-Outland-Highlight" hidden="true">
													<Size x="1024" y="1024"/>
													<Anchors>
														<Anchor point="TOPLEFT" x="0" y="0"/>
													</Anchors>
												</Texture>	
												<Texture parentKey="DraenorHighlight" file="Interface\AddOns\OmegaMap\Icons\Cosmic-Draenor-Highlight" hidden="true">
													<Size x="1024" y="1024"/>
													<Anchors>
														<Anchor point="TOPLEFT" x="0" y="0"/>
													</Anchors>
												</Texture>
											</Layer>
										</Layers>
										<Frames>
											<Frame name="OmegaMapUnitDropDown" inherits="UIDropDownMenuTemplate" clampedToScreen="true" id="1" hidden="true"/>
											<Frame name="OmegaMapFlag1" inherits="OmegaMapFlagTemplate" id="1"/>
											<Frame name="OmegaMapFlag2" inherits="OmegaMapFlagTemplate" id="2"/>
											<Frame name="OmegaMapFlag3" inherits="OmegaMapFlagTemplate" id="3"/>
											<Frame name="OmegaMapFlag4" inherits="OmegaMapFlagTemplate" id="4"/>
											<Frame name="OmegaMapCorpse" inherits="OmegaMapCorpseTemplate"/>
											<Frame name="OmegaMapDeathRelease" inherits="OmegaMapCorpseTemplate">
												<Scripts>
													<OnEnter>
														local x, y = self:GetCenter();
														local parentX, parentY = self:GetParent():GetCenter();
														if ( x > parentX ) then
															OmegaMapTooltip:SetOwner(self, "ANCHOR_LEFT");
														else
															OmegaMapTooltip:SetOwner(self, "ANCHOR_RIGHT");
														end
														OmegaMapTooltip:SetText(SPIRIT_HEALER_RELEASE_RED);
														OmegaMapTooltip:Show();
													</OnEnter>
												</Scripts>
											</Frame>
											<Button name="OmegaMapOutlandButton" inherits="WorldMapFakeButtonTemplate"  hidden="true">
														<Size x="241" y="253"/>
												<Anchors>
													<Anchor point="TOPLEFT" x="126" y="-337"/>
												</Anchors>
												<Scripts>
													<OnLoad>
														self.continent = 3;
													</OnLoad>
													<OnEnter>
														self:GetParent().OutlandHighlight:Show();
													</OnEnter>
													<OnLeave>
														self:GetParent().OutlandHighlight:Hide();
													</OnLeave>
												</Scripts>
											</Button>
											<Button name="OmegaMapAzerothButton"  inherits="WorldMapFakeButtonTemplate" hidden="true">
												<Size x="330" y="342"/>
												<Anchors>
													<Anchor point="TOPLEFT" x="611" y="-288"/>
												</Anchors>
												<Scripts>
													<OnLoad>
														self.continent = 0;
													</OnLoad>
													<OnEnter>
														self:GetParent().AzerothHighlight:Show();
													</OnEnter>
													<OnLeave>
														self:GetParent().AzerothHighlight:Hide();
													</OnLeave>
												</Scripts>
										</Button>
										<Button name="OmegaMapDraenorButton" inherits="WorldMapFakeButtonTemplate"  hidden="true">
													<Size x="273" y="261"/>
													<Anchors>
														<Anchor point="TOPLEFT" x="329" y="-142"/>
													</Anchors>
													<Scripts>
														<OnLoad>
															self.continent = 7;
															self:SetFrameLevel(OmegaMapOutlandButton:GetFrameLevel()+1);
														</OnLoad>
														<OnEnter>
															self:GetParent().DraenorHighlight:Show();
														</OnEnter>
														<OnLeave>
															self:GetParent().DraenorHighlight:Hide();
														</OnLeave>													
													</Scripts>
												</Button>
										<Button name="OmegaMapTheMaelstromButton" inherits="OmegaMapMaelstromButtonTemplate" text="TheMaelstrom">
											<Size x="120" y="120"/>
											<Anchors>
												<Anchor point="TOPLEFT" x="305" y="-140"/>
											</Anchors>
											<HighlightTexture name="$parentHighlight" file="Interface\WorldMap\TheMaelstrom\TheMaelstromHighlight" alphaMode="ADD">
												<Size x="128" y="128"/>
												<Anchors>
													<Anchor point="CENTER" x="0" y="-2"/>
												</Anchors>
											</HighlightTexture>
										</Button>
										<Button name="OmegaMapDeepholmButton" inherits="OmegaMapMaelstromButtonTemplate" text="Deepholm">
											<Size x="120" y="120"/>
											<Anchors>
												<Anchor point="TOPLEFT" x="450" y="-130"/>
											</Anchors>
											<HighlightTexture name="$parentHighlight" file="Interface\WorldMap\Deepholm\DeepholmHighlight" alphaMode="ADD">
												<Size x="160" y="160"/>
												<Anchors>
													<Anchor point="CENTER" x="5" y="-20"/>
												</Anchors>
											</HighlightTexture>	
										</Button>
										<Button name="OmegaMapKezanButton" inherits="OmegaMapMaelstromButtonTemplate" text="Kezan">
											<Size x="254" y="240"/>
											<Anchors>
												<Anchor point="TOPLEFT" x="236" y="-380"/>
											</Anchors>
											<HighlightTexture name="$parentHighlight" file="Interface\WorldMap\Kezan\KezanHighlight" alphaMode="ADD">
												<Size x="360" y="360"/>
												<Anchors>
													<Anchor point="CENTER" x="-5" y="-65"/>
												</Anchors>
											</HighlightTexture>
										</Button>
										<Button name="OmegaMapLostIslesButton" inherits="OmegaMapMaelstromButtonTemplate" text="TheLostIsles">
											<Size x="152" y="180"/>
											<Anchors>
												<Anchor point="TOPLEFT" x="75" y="-266"/>
											</Anchors>
											<HighlightTexture name="$parentHighlight" file="Interface\WorldMap\TheLostIsles\TheLostIslesHighlight" alphaMode="ADD">
												<Size x="250" y="250"/>
												<Anchors>
													<Anchor point="CENTER" x="5" y="-40"/>
												</Anchors>
											</HighlightTexture>
										</Button>
										</Frames>
										<Scripts>
											<OnLoad>
												self:RegisterForClicks("LeftButtonUp", "RightButtonUp");
											</OnLoad>
											<OnUpdate function="OmegaMapButton_OnUpdate"/>
											<OnMouseDown function="OmegaMapButton_OnMouseDown"/>
											<OnMouseUp function="OmegaMapButton_OnMouseUp"/>
											<OnClick function="OmegaMapButton_OnClick"/>
										</Scripts>
									</Button>
										<QuestPOIFrame name="OmegaMapBlobFrame" setAllPoints="true">
											<Layers>
												<Layer level="ARTWORK">
													<Texture name="OmegaMapBlobFrameTexture" setAllPoints="true" />
												</Layer>
											</Layers>
											<Scripts>
												<OnLoad function="OmegaMapBlobFrame_OnLoad" />
												<OnUpdate function="OmegaMapBlobFrame_OnUpdate"/>
											</Scripts>
										</QuestPOIFrame>
										<ScenarioPOIFrame name="OmegaMapScenarioPOIFrame" setAllPoints="true">
											<Layers>
												<Layer level="ARTWORK">
													<Texture name="OmegaMapBlobFrameTexture" setAllPoints="true" />
												</Layer>
											</Layers>
											<Scripts>
												<OnLoad>
													self:SetFillTexture("Interface\\WorldMap\\UI-QuestBlob-Inside");
													self:SetBorderTexture("Interface\\WorldMap\\UI-QuestBlob-Outside");
													self:SetFillAlpha(128);
													self:SetBorderAlpha(192);
													self:SetBorderScalar(1.0);
												</OnLoad>
												<OnUpdate function="OmegaMapScenarioPOIFrame_OnUpdate"/>
											</Scripts>
										</ScenarioPOIFrame>

										<Frame name="OmegaMapBossButtonFrame" setAllPoints="true"/>
										<Frame name="OmegaMapNoteFrame" setAllPoints="true"/>
									</Frames>
								</Frame>
								<Frame name="OmegaMapAltMapFrame" hidden="true" >
									<Size x="512" y="512"/>
									<Anchors>
										<Anchor point="TOPLEFT" relativePoint="TOPLEFT" relativeTo="OmegaMapDetailFrame"/>
									</Anchors>
									<Layers>
										<Layer level="BACKGROUND">
											<Texture name="OmegaMapExtDetailTile1">
											<Size x="512" y="512"/>
											<Anchors>
												<Anchor point="CENTER" relativePoint="CENTER" relativeTo="OmegaMapAltMapFrame" x="0" y="0"/>
											</Anchors>
											</Texture>
										</Layer>
									</Layers>
								</Frame>
								<Button name="OmegaMapFrameCloseButton" inherits="UIPanelCloseButton">
									<Anchors>
										<Anchor point="TOPRIGHT" x="0" y="-40"/>
									</Anchors>
								</Button>
									<Frame name="OmegaMapPOIFrame" frameLevel="300">
									<Anchors>
										<Anchor point="TOPLEFT" relativeTo="OmegaMapDetailFrame" x="0" y="0"/>
										<Anchor point="BOTTOMRIGHT" relativeTo="OmegaMapDetailFrame" x="0" y="0"/>
									</Anchors>
									<Frames>
										<CinematicModel parentKey="WorldQuestCompletedBySpellModel" facingLeft="true">
											<Size x="400" y="400"/>
											<Scripts>
												<OnLoad>
													self:RegisterEvent("UI_SCALE_CHANGED");
													self:RegisterEvent("DISPLAY_SIZE_CHANGED");
													self:SetDisplayInfo(11686); <!-- 11686 is invisible stalker -->
												</OnLoad>
												<OnEvent>
													self:RefreshCamera();
												</OnEvent>
											</Scripts>
										</CinematicModel>
									</Frames>
								</Frame>
								<UnitPositionFrame name="OmegaMapUnitPositionFrame" frameLevel="1500" inherits="UnitPositionFrameTemplate">
								<Anchors>
									<Anchor point="TOPLEFT" relativeTo="OmegaMapDetailFrame" x="0" y="0"/>
									<Anchor point="BOTTOMRIGHT" relativeTo="OmegaMapDetailFrame" x="0" y="0"/>
								</Anchors>
							</UnitPositionFrame>
							</Frames>
						</Frame>
					</ScrollChild>
				</ScrollFrame>
				<Frame parentKey="UIElementsFrame" frameLevel="10">
					<Anchors>
						<Anchor point="TOPLEFT" relativeTo="OmegaMapScrollFrame" x="0" y="0"/>
						<Anchor point="BOTTOMRIGHT" relativeTo="OmegaMapScrollFrame" x="0" y="0"/>
					</Anchors>
					<Frames>
						<Frame name="OmegaMapFrameAreaFrame">
							<Size x="400" y="128"/>
							<Anchors>
								<Anchor point="TOP" x="0" y="-10"/>
							</Anchors>
							<Layers>
								<Layer level="OVERLAY">
									<FontString name="OmegaMapFrameAreaLabel" inherits="WorldMapTextFont">
										<Anchors>
											<Anchor point="TOP" x="0" y="-20"/>
										</Anchors>
									</FontString>
									<Texture name="OmegaMapFrameAreaLabelTexture" hidden="true">
									<Anchors>
										<Anchor point="RIGHT" relativeTo="OmegaMapFrameAreaLabel" relativePoint="LEFT" x="0" y="0"/>
									</Anchors>
								</Texture>
									<FontString name="OmegaMapFrameAreaDescription" inherits="SubZoneTextFont">
										<Anchors>
											<Anchor point="TOP" relativeTo="OmegaMapFrameAreaLabel" relativePoint="BOTTOM" x="0" y="-10"/>
										</Anchors>
									</FontString>
									<FontString name="OmegaMapFrameAreaPetLevels" inherits="SubZoneTextFont">
										<Anchors>
											<Anchor point="TOP" relativeTo="OmegaMapFrameAreaLabel" relativePoint="BOTTOM" x="0" y="-10"/>
										</Anchors>
									</FontString>
								</Layer>
							</Layers>
						</Frame>				
						<Frame name="OmegaMapLevelDropDown" inherits="UIDropDownMenuTemplate" id="2">
							<Anchors>
								<Anchor point="TOPLEFT" x="-17" y="2"/>
							</Anchors>
						</Frame>
						<Frame parentKey="TrackingOptionsButton">
							<Size x="32" y="32"/>
							<Anchors>
								<Anchor point="TOPRIGHT" relativeTo="OmegaMapScrollFrame" x="-4" y="-4"/>
							</Anchors>
							<Layers>
								<Layer level="BACKGROUND" textureSubLevel="-1">				
									<Texture atlas="MapCornerShadow-Right" useAtlasSize="true">
										<Anchors>
											<Anchor point="TOPRIGHT" x="4" y="4"/>
										</Anchors>
										<TexCoords left="0" right="1" top="1" bottom="0"/>	
									</Texture>
								</Layer>
								<Layer level="BACKGROUND">
									<Texture parentKey="Background" file="Interface\Minimap\UI-Minimap-Background">
										<Size x="25" y="25"/>
										<Anchors>
											<Anchor point="TOPLEFT" x="2" y="-4"/>
										</Anchors>
										<Color r="1" g="1" b="1" a="1"/>
									</Texture>
								</Layer>
								<Layer level="ARTWORK">
									<Texture parentKey="Icon" file="Interface\Minimap\Tracking\None">
										<Size x="20" y="20"/>
										<Anchors>
											<Anchor point="TOPLEFT" x="6" y="-6"/>
										</Anchors>
									</Texture>
								</Layer>
								<Layer level="OVERLAY">
									<Texture parentKey="IconOverlay" hidden="true">
										<Anchors>
											<Anchor point="TOPLEFT" relativeKey="$parent.Icon"/>
											<Anchor point="BOTTOMRIGHT" relativeKey="$parent.Icon"/>
										</Anchors>
										<Color r="0.0" g="0.0" b="0.0" a="0.5"/>
									</Texture>
								</Layer>
							</Layers>
							<Frames>
								<Frame name="$parentDropDown" parentKey="DropDown" inherits="UIDropDownMenuTemplate" clampedToScreen="true" hidden="true">
									<Scripts>
										<OnLoad>
											UIDropDownMenu_Initialize(self, OmegaMapTrackingOptionsDropDown_Initialize, "MENU");
										</OnLoad>
									</Scripts>
								</Frame>
								<Button parentKey="Button">
									<Size x="32" y="32"/>
									<Anchors>
										<Anchor point="TOPLEFT"/>
									</Anchors>
									<Layers>
										<Layer level="BORDER">
											<Texture parentKey="Border" file="Interface\Minimap\MiniMap-TrackingBorder">
												<Size x="54" y="54"/>
												<Anchors>
													<Anchor point="TOPLEFT"/>
												</Anchors>
											</Texture>
										</Layer>
										<Layer level="OVERLAY">
											<Texture parentKey="Shine" file="Interface\ComboFrame\ComboPoint" alphaMode="ADD" hidden="true">
												<Size x="27" y="27"/>
												<Anchors>
													<Anchor point="TOPLEFT">
														<Offset x="2" y="-2"/>
													</Anchor>
												</Anchors>
												<TexCoords left="0.5625" right="1" top="0" bottom="1"/>
											</Texture>
										</Layer>
									</Layers>
									<Scripts>
										<OnClick>
											local parent = self:GetParent();
											ToggleDropDownMenu(1, nil, parent.DropDown, parent, 0, -5);
											PlaySound("igMainMenuOptionCheckBoxOn");
										</OnClick>
										<OnMouseDown>
											local parent = self:GetParent();
											parent.Icon:SetPoint("TOPLEFT", parent, "TOPLEFT", 8, -8);
											parent.IconOverlay:Show();
										</OnMouseDown>
										<OnMouseUp>
											local parent = self:GetParent();
											parent.Icon:SetPoint("TOPLEFT", parent, "TOPLEFT", 6, -6);
											parent.IconOverlay:Hide();
										</OnMouseUp>
										<OnEnter>
											--GameTooltip:SetOwner(self, "ANCHOR_LEFT");
											--GameTooltip:SetText(TRACKING, 1, 1, 1);
											--GameTooltip:AddLine(MINIMAP_TRACKING_TOOLTIP_NONE, nil, nil, nil, true);
											--GameTooltip:Show();
										</OnEnter>
										<OnLeave>
											GameTooltip:Hide();
										</OnLeave>
									</Scripts>
									<HighlightTexture alphaMode="ADD" file="Interface\Minimap\UI-Minimap-ZoomButton-Highlight"/>
								</Button>
							</Frames>
						</Frame>
						<Button parentKey="OpenQuestPanelButton" hidden="true">
							<Size x="32" y="32"/>
							<Anchors>
								<Anchor point="BOTTOMRIGHT" x="-2" y="1"/>
							</Anchors>
							<Layers>
								<Layer level="BACKGROUND">
									<Texture atlas="MapCornerShadow-Right" useAtlasSize="true">
										<Anchors>
											<Anchor point="BOTTOMRIGHT" x="2" y="-1"/>
										</Anchors>
									</Texture>							
								</Layer>
							</Layers>
							<NormalTexture atlas="QuestCollapse-Hide-Up"/>
							<PushedTexture atlas="QuestCollapse-Hide-Down"/>
							<HighlightTexture file="Interface\Buttons\UI-Common-MouseHilight" alphaMode="ADD" setAllPoints="true">
								<Size x="48" y="48"/>
								<Anchors>
									<Anchor point="CENTER"/>
								</Anchors>
							</HighlightTexture>
							<Scripts>
								<OnClick>
									PlaySound("igMainMenuOptionCheckBoxOn");
									OmegaMapQuestFrame_Open(true);
								</OnClick>
							</Scripts>
						</Button>
						<Button parentKey="CloseQuestPanelButton" hidden="true">
							<Size x="32" y="32"/>
							<Anchors>
								<Anchor point="BOTTOMRIGHT" x="-2" y="1"/>
							</Anchors>
							<Layers>
								<Layer level="BACKGROUND">
									<Texture atlas="MapCornerShadow-Right" useAtlasSize="true">
										<Anchors>
											<Anchor point="BOTTOMRIGHT" x="2" y="-1"/>
										</Anchors>
									</Texture>						
								</Layer>
							</Layers>
							<NormalTexture atlas="QuestCollapse-Show-Up"/>
							<PushedTexture atlas="QuestCollapse-Show-Down"/>
							<HighlightTexture file="Interface\Buttons\UI-Common-MouseHilight" alphaMode="ADD" setAllPoints="true">
								<Size x="48" y="48"/>
								<Anchors>
									<Anchor point="CENTER"/>
								</Anchors>
							</HighlightTexture>
							<Scripts>
								<OnClick>
									PlaySound("igMainMenuOptionCheckBoxOn");
									OmegaMapQuestFrame_Close(true);
								</OnClick>
							</Scripts>
						</Button>
						<Frame parentKey="BountyBoard" inherits="OmegaMapBountyBoardTemplate" />
						<Frame parentKey="ActionButton" inherits="OmegaMapActionButtonTemplate" />
		
					</Frames>
				</Frame>
				<Frame name="OmegaMapFrameNavBar" inherits="OM_NavBarTemplate" parentKey="NavBar">
					<Size x="1000" y="34"/>
					<Anchors>
						<Anchor point="BOTTOMLEFT" relativePoint="TOPLEFT" relativeTo="OmegaMapFrame" x="10" y="-70"/>
					</Anchors>
					<Layers>
					</Layers>
				</Frame>
				<ScrollFrame name="OmegaMapAltMapNoteFrame" inherits="UIPanelScrollFrameTemplate" hidden="false" parent = "OmegaMapAltMapFrame">
					<Size x="283" y="512"/>
					<Anchors>
						<Anchor point="TOPLEFT" relativeTo="OmegaMapAltMapFrame" relativePoint="TOPRIGHT" x="6" y="0"/>
					</Anchors>
					<ScrollChild>
						<Frame name="$parentScrollChildFrame">
							<Size x="283" y="50"/>
							<Anchors>
								<Anchor point="TOPLEFT"/>
							</Anchors>
							<Frames>
								<Frame name="$parentSelectedFrame" hidden="false">
									<Size x="301" y="50"/>
									<Layers>
										<Layer level="ARTWORK">
											<Texture name="OmegaMapQuestSelectBar" file="Interface\QuestFrame\UI-QuestLogTitleHighlight" alphaMode="ADD"/>
										</Layer>
									</Layers>
									<Scripts>
										<OnLoad>
											OmegaMapQuestSelectBar:SetVertexColor(1, 0.824, 0);
										</OnLoad>
									</Scripts>
								</Frame>							
								<Frame name="$parentHighlightedFrame" hidden="false">
									<Size x="301" y="50"/>			
									<Layers>
										<Layer level="ARTWORK">
											<Texture name="OmegaMapQuestHighlightBar" file="Interface\QuestFrame\UI-QuestLogTitleHighlight" alphaMode="ADD"/>
										</Layer>
									</Layers>
									<Scripts>
										<OnLoad>
											OmegaMapQuestHighlightBar:SetVertexColor(0.243, 0.570, 1);
										</OnLoad>
									</Scripts>
								</Frame>					
							</Frames>						
						</Frame>
					</ScrollChild>
				</ScrollFrame>
				<Button name="OmegaMapAltMapNoteToggleButton" inherits="UIPanelButtonTemplate"  parent = "OmegaMapAltMapFrame">
					<Size x="25" y="25"/>
					<Anchors>
						<Anchor point="TOPRIGHT" relativeTo="OmegaMapAltMapNoteFrame" relativePoint="TOPLEFT" x="8" y="-3"/>
					</Anchors>
					<Scripts>
						<OnClick>
							if ( OmegaMapConfig.showAltMapNotes ) then
						
								PlaySound("igMainMenuOptionCheckBoxOff");
								OmegaMapAltMapNoteFrame:Hide();
								OmegaMapConfig.showAltMapNotes= false;
								OmegaMapAltMapNoteToggleButton:SetNormalTexture("Interface\\Buttons\\UI-SpellbookIcon-NextPage-Up")
								OmegaMapAltMapNoteToggleButton:SetPushedTexture("Interface\\Buttons\\UI-SpellbookIcon-NextPage-Down")
								else
								PlaySound("igMainMenuOptionCheckBoxOn");
								OmegaMapAltMapNoteFrame:Show();
								OmegaMapConfig.showAltMapNotes = true;
								OmegaMapAltMapNoteToggleButton:SetNormalTexture("Interface\\Buttons\\UI-SpellbookIcon-PrevPage-Up")
								OmegaMapAltMapNoteToggleButton:SetPushedTexture("Interface\\Buttons\\UI-SpellbookIcon-PrevPage-Down")				
							end
						</OnClick>					
						<OnShow>
							if (OmegaMapConfig.showAltMapNotes ) then
								OmegaMapAltMapNoteFrame:Show();
								OmegaMapAltMapNoteToggleButton:SetNormalTexture("Interface\\Buttons\\UI-SpellbookIcon-PrevPage-Up")
								OmegaMapAltMapNoteToggleButton:SetPushedTexture("Interface\\Buttons\\UI-SpellbookIcon-PrevPage-Down")				
								else
								OmegaMapAltMapNoteFrame:Hide();
								OmegaMapAltMapNoteToggleButton:SetNormalTexture("Interface\\Buttons\\UI-SpellbookIcon-NextPage-Up")
								OmegaMapAltMapNoteToggleButton:SetPushedTexture("Interface\\Buttons\\UI-SpellbookIcon-NextPage-Down")
							end
						</OnShow>
					</Scripts>
					<NormalTexture file="Interface\Buttons\UI-SpellbookIcon-PrevPage-Up"/>
					<PushedTexture file="Interface\Buttons\UI-SpellbookIcon-PrevPage-Down"/>
				</Button>
				<Button name="OmegaMapPOIToggle" inherits="MainMenuBarMicroButton" parent="OmegaMapFrame" >
					<Size x="25" y="55"/>
					<Anchors>
					<Anchor point="BOTTOMRIGHT" relativePoint="TOPRIGHT" relativeTo="OmegaMapFrame" x="-10" y="-70"/>
						<!--<Anchor point="TOPLEFT" relativeTo="OmegaMapTrackQuestButton" x="-20" y="0"/> -->
					</Anchors>
					<Scripts>
						<OnClick>
							if (OmegaMapConfig.clearMap) then
								OmegaMapPOIToggle:SetNormalTexture("Interface\\Buttons\\UI-MicroButton-LFG-Up")
								OmegaMapConfig.clearMap = false
								OmegaMapNoteFrame:Show()

							else
								OmegaMapConfig.clearMap = true
								OmegaMapPOIToggle:SetNormalTexture("Interface\\Addons\\OmegaMap\\Icons\\off")
								OmegaMapNoteFrame:Hide()
							end
						</OnClick>
						<OnEnter>
							OmegaMapTooltip:SetOwner(self, "ANCHOR_RIGHT");
							OmegaMapTooltip:SetText(OMEGAMAPPOITOGGLE_TOOLTIP, nil, nil, nil, nil, 1);
						</OnEnter>
						<OnLeave>

							OmegaMapTooltip:Hide();
						</OnLeave>
						<OnShow>
						if (OmegaMapConfig.clearMap) then
							OmegaMapPOIToggle:SetNormalTexture("Interface\\Addons\\OmegaMap\\Icons\\off")
							OmegaMapNoteFrame:Hide()
						end
						</OnShow>
					</Scripts>
					<NormalTexture file="Interface\Buttons\UI-MicroButton-LFG-Up"/>
					<PushedTexture file="Interface\Buttons\UI-MicroButton-LFG-Down"/>
					<DisabledTexture file ="Interface\Addons\OmegaMap\Icons\off"/>
				</Button>
				<Button name="OmegaMapLockButton" inherits="MainMenuBarMicroButton" parent="OmegaMapFrame" >
					<Size x="25" y="55"/>
					<Anchors>
						<Anchor point="TOPRIGHT"  relativePoint="TOPLEFT" relativeTo="OmegaMapPOIToggle"  x="3" y="0" />
					</Anchors>
					<Scripts>
						<OnShow>
							if (OmegaMapConfig.keepInteractive) and (OmegaMapConfig.solidify) then 
								OmegaMapLockButton:SetNormalTexture("Interface\\Buttons\\UI-MICROBUTTON-World-Up")
								OmegaMapSolidify("On")
							else
								OmegaMapLockButton:SetNormalTexture("Interface\\Buttons\\UI-MICROBUTTON-World-Disabled")
								OmegaMapSolidify("Off")
							end
						</OnShow>
						<OnClick>
							if not(OmegaMapConfig.solidify) then
								OmegaMapSolidify("On")
								OmegaMapConfig.solidify = true
								OmegaMapLockButton:SetNormalTexture("Interface\\Buttons\\UI-MICROBUTTON-World-Up")
							else
								OmegaMapLockButton:SetNormalTexture("Interface\\Buttons\\UI-MICROBUTTON-World-Disabled")
								OmegaMapSolidify("Off")
								OmegaMapConfig.solidify = false
							end
						</OnClick>
						<OnEnter>
							OmegaMapTooltip:SetOwner(self, "ANCHOR_RIGHT");
							OmegaMapTooltip:SetText(OMEGAMAPLOCKBUTTON_TOOLTIP, nil, nil, nil, nil, 1);
						</OnEnter>
						<OnLeave>
							OmegaMapTooltip:Hide();
						</OnLeave>
					</Scripts>
					<NormalTexture file="Interface\Buttons\UI-MICROBUTTON-World-Up"/>
					<PushedTexture file="Interface\Buttons\UI-MICROBUTTON-World-Down"/>
					<DisabledTexture file="Interface\Buttons\UI-MICROBUTTON-World-Disabled"/>
				</Button>
				<Button name="OmegaMapOptionsButton" inherits="MainMenuBarMicroButton" parent="OmegaMapFrame" >
					<Size x="25" y="55"/>
					<Anchors>
						<Anchor point="TOPRIGHT"  relativePoint="TOPLEFT" relativeTo="OmegaMapLockButton" x="3" y="0"/>
					</Anchors>
					<Scripts>
						<OnClick>
							OmegaMapOptionsFrame.Toggle()
						</OnClick>
						<OnEnter>
							OmegaMapTooltip:SetOwner(self, "ANCHOR_RIGHT");
							OmegaMapTooltip:SetText(OMEGAMAP_OPTION_BUTTON_TOOLTIP, nil, nil, nil, nil, 1);
						</OnEnter>
						<OnLeave>
							OmegaMapTooltip:Hide();
						</OnLeave>
					</Scripts>
					<NormalTexture file="Interface\Buttons\UI-MicroButton-Help-Up"/>
					<PushedTexture file="Interface\Buttons\UI-MicroButton-Help-Down"/>
				</Button>
				<Button name="OmegaMapEncounterJournalButton" inherits="MainMenuBarMicroButton" parent="OmegaMapFrame" >
					<Size x="25" y="55"/>
					<Anchors>
						<Anchor point="TOPRIGHT"  relativePoint="TOPLEFT" relativeTo="OmegaMapOptionsButton" x="3" y="0"/>
					</Anchors>
					<Scripts>
						<OnClick>
							ToggleFrame(EncounterJournal);
						</OnClick>
						<OnEnter>
							OmegaMapTooltip:SetOwner(self, "ANCHOR_RIGHT");
							OmegaMapTooltip:SetText(OMEGAMAP_EJ_TOOLTIP, nil, nil, nil, nil, 1);
						</OnEnter>
						<OnLeave>
							OmegaMapTooltip:Hide();
						</OnLeave>
					</Scripts>
					<NormalTexture file="Interface\Buttons\UI-MicroButton-EJ-Up"/>
					<PushedTexture file="Interface\Buttons\UI-MicroButton-EJ-Down"/>
				</Button>
				<Slider name="OmegaMapSliderFrame" orientation="VERTICAL" minValue="0" maxValue="1" valueStep="0.01"
							defaultValue="0.3" movable="true" parent="OmegaMapFrame">
						<Size x="16" y="128"/>
						<Anchors>
							<Anchor point="CENTER" relativeTo="OmegaMapFrame" relativePoint="BOTTOMLEFT" x="25" y="450"/>
						</Anchors>
						<Backdrop bgFile="Interface\Buttons\UI-SliderBar-Background" edgeFile="Interface\Buttons\UI-SliderBar-Border" tile="true">
							<EdgeSize>
								<AbsValue val="8"/>
							</EdgeSize>
							<TileSize>
								<AbsValue val="8"/>
							</TileSize>
							<BackgroundInsets>
								<AbsInset left="3" right="3" top="6" bottom="6"/>
							</BackgroundInsets>
						</Backdrop>
						<Layers>
							<Layer level="ARTWORK">
								<FontString name="$parentText" inherits="GameFontNormalSmall">
									<Anchors>
										<Anchor point="BOTTOM" relativePoint="TOP"/>
									</Anchors>
								</FontString>
								<FontString inherits="GameFontHighlightSmall" text="0%">
									<Anchors>
										<Anchor point="BOTTOMLEFT" relativePoint="BOTTOMRIGHT" x="2" y="3"/>
									</Anchors>
								</FontString>
								<FontString inherits="GameFontHighlightSmall" text="100%">
									<Anchors>
										<Anchor point="TOPLEFT" relativePoint="TOPRIGHT" x="-2" y="3"/>
									</Anchors>
								</FontString>
								<FontString inherits="GameFontHighlightSmall" text="Alpha">
									<Anchors>
										<Anchor point="TOPLEFT" relativePoint="TOPLEFT" x="0" y="15"/>
									</Anchors>
								</FontString>
							</Layer>
						</Layers>
						<Frames>
							<Frame name="OmegaMapSliderMovementFrame" hidden="true" setAllPoints="true" enableMouse="false" movable="true">
								<Scripts>
									<OnShow>
										self:SetFrameLevel( OmegaMapSliderFrame:GetFrameLevel() + 1 );
									</OnShow>
									<OnMouseDown>
										OmegaMapSliderFrame:StartMoving();
										OmegaMapSliderFrame.isMoving = true;
									</OnMouseDown>
									<OnMouseUp>
										<!--AM_RememberSliderPos();
										OmegaMapSliderFrame:StopMovingOrSizing();
										OmegaMapSliderFrame.isMoving = false;
										if ( OmegaMapSliderFrame.Adopt ) then
											OmegaMapSliderFrame:SetUserPlaced(false);
											AM_SetSliderPos();
											OmegaMapSliderFrame.Adopt = nil;
										else
											OmegaMapSliderFrame:SetUserPlaced(true);
										end -->
									</OnMouseUp>
								</Scripts>
							</Frame>
						</Frames>
						<Scripts>
							<OnShow>
								self:SetFrameLevel( OmegaMapButton:GetFrameLevel() + 1 );
							</OnShow>
							<OnLoad>
								OmegaMapSliderFrame:SetMinMaxValues(0,1);
								OmegaMapSliderFrame:SetValueStep(0.01);
								OmegaMapSliderFrame:SetValue(0.2);
							</OnLoad>
							<OnValueChanged>
								OmegaMapFrame_ChangeOpacity();
							</OnValueChanged>
							<OnMouseUp>
								
							</OnMouseUp>
						</Scripts>
						<ThumbTexture file="Interface\Buttons\UI-SliderBar-Button-Vertical">
							<Size x="32" y="32"/>
						</ThumbTexture>
					</Slider>
				<Slider name="OmegaMapZoomSliderFrame" orientation="VERTICAL" minValue="0" maxValue="1" valueStep="0.01"
						defaultValue="0.3" movable="true" parent="OmegaMapFrame">
					<Size x="16" y="128"/>
					<Anchors>
						<Anchor point="TOPLEFT" relativeTo="OmegaMapSliderFrame" relativePoint="BOTTOMLEFT" x="0" y="-25"/>
					</Anchors>
					<Backdrop bgFile="Interface\Buttons\UI-SliderBar-Background" edgeFile="Interface\Buttons\UI-SliderBar-Border" tile="true">
						<EdgeSize>
							<AbsValue val="8"/>
						</EdgeSize>
						<TileSize>
							<AbsValue val="8"/>
						</TileSize>
						<BackgroundInsets>
							<AbsInset left="3" right="3" top="6" bottom="6"/>
						</BackgroundInsets>
					</Backdrop>
					<Layers>
						<Layer level="ARTWORK">
							<FontString name="$parentText" inherits="GameFontNormalSmall">
								<Anchors>
									<Anchor point="BOTTOM" relativePoint="TOP"/>
								</Anchors>
							</FontString>
							<FontString inherits="GameFontHighlightSmall" text="125%">
								<Anchors>
									<Anchor point="BOTTOMLEFT" relativePoint="BOTTOMRIGHT" x="2" y="3"/>
								</Anchors>
							</FontString>
							<FontString inherits="GameFontHighlightSmall" text="50%">
								<Anchors>
									<Anchor point="TOPLEFT" relativePoint="TOPRIGHT" x="-2" y="3"/>
								</Anchors>
							</FontString>
							<FontString inherits="GameFontHighlightSmall" text="Scale">
								<Anchors>
									<Anchor point="TOPLEFT" relativePoint="TOPLEFT" x="0" y="15"/>
								</Anchors>
							</FontString>
							
						</Layer>
					</Layers>
					<Scripts>
						<OnShow>
							self:SetFrameLevel( OmegaMapButton:GetFrameLevel() + 1 );
							OmegaMapZoomSliderFrame:SetValue(OmegaMapConfig.scale);
						</OnShow>
						<OnLoad>
							OmegaMapZoomSliderFrame:SetMinMaxValues(.50,1.25);
							OmegaMapZoomSliderFrame:SetValueStep(0.01);
							OmegaMapZoomSliderFrame:SetValue(OmegaMapConfig.scale);
						</OnLoad>
						<OnValueChanged>
							OmegaMapConfig.scale = OmegaMapZoomSliderFrame:GetValue();
							OmegaMapBlobFrame:DrawBlob(GetSuperTrackedQuestID(), false);
						</OnValueChanged>
						<OnMouseUp>
								OmegaMapMasterFrame:SetScale( OmegaMapConfig.scale );
								OmegaMapBlobFrame:DrawBlob(GetSuperTrackedQuestID(), true);
						</OnMouseUp>
					</Scripts>
					<ThumbTexture file="Interface\Buttons\UI-SliderBar-Button-Vertical">
						<Size x="32" y="32"/>
					</ThumbTexture>
				</Slider>
				<Frame name="OmegaMapCoordinates" movable="true" parent="OmegaMapFrame">
						<Size x="90" y="30"/>
						<Anchors>
							<Anchor point="TOPLEFT" relativeTo="OmegaMapFrame" relativePoint="BOTTOMLEFT"  x="25" y="75"/>
						</Anchors>
						<Layers>
							<Layer level="ARTWORK">
								<FontString name="OmegaMapLocationText" inherits="GameFontNormalLarge" text="Player" hidden="false" justifyH="CENTER" justifyV="CENTER" >
									<Color r="1.0" g="1.0" b="1.0"/>
									<Anchors>
										<Anchor point="CENTER" x="0" y="0"/>
									</Anchors>
								</FontString>
							</Layer>
						</Layers>
						<Frames>
							<Frame name="OmegaMapCoordinatesMovementFrame" hidden="true" setAllPoints="true" enableMouse="false" movable="true">
								<Scripts>
									<OnShow>
										self:SetFrameLevel(OmegaMapCoordinates:GetFrameLevel() + 1);
									</OnShow>
									<OnMouseDown>
										OmegaMapCoordinatesisMoving = true;
										if ( OmegaMapCoordinates.isMoving ) then
											OmegaMapCoordinates:StartMoving();
										end
									</OnMouseDown>
									<OnMouseUp>
										if ( OmegaMapCoordinates.isMoving ) then
											OmegaMapCoordinates:StopMovingOrSizing();
											OmegaMapCoordinates.isMoving = false;
										end
									</OnMouseUp>
								</Scripts>
							</Frame>
						</Frames>
						<Scripts>
						<OnShow>
							self:SetFrameLevel( OmegaMapButton:GetFrameLevel() + 3 );
						</OnShow>
							<OnUpdate>
								OmegaMapCoordsOnUpdate(self, elapsed);
							</OnUpdate>
						</Scripts>
						<Backdrop bgFile="Interface\TutorialFrame\TutorialFrameBackground" edgeFile="Interface\Tooltips\UI-Tooltip-Border" tile="true">
							<BackgroundInsets>
								<AbsInset left="5" right="5" top="5" bottom="5"/>
							</BackgroundInsets>
							<TileSize>
								<AbsValue val="16"/>
							</TileSize>
							<EdgeSize>
								<AbsValue val="16"/>
							</EdgeSize>
						</Backdrop>
				</Frame>
			</Frames>
			<Scripts>
				<OnLoad function="OmegaMapFrame_OnLoad"/>
				<OnShow function="OmegaMapFrame_OnShow"/>
				<OnHide function="OmegaMapFrame_OnHide"/>
				<OnEvent function="OmegaMapFrame_OnEvent"/>
				<OnUpdate function="OmegaMapFrame_OnUpdate"/>
			</Scripts>
		</Frame>
		<GameTooltip name="OmegaMapCompareTooltip1" clampedToScreen="true" frameStrata="TOOLTIP" hidden="true" parent="OmegaMapFrame" inherits="ShoppingTooltipTemplate"/>
		<GameTooltip name="OmegaMapCompareTooltip2" clampedToScreen="true" frameStrata="TOOLTIP" hidden="true" parent="OmegaMapFrame" inherits="ShoppingTooltipTemplate"/>
		<GameTooltip name="OmegaMapCompareTooltip3" clampedToScreen="true" frameStrata="TOOLTIP" hidden="true" parent="OmegaMapFrame" inherits="ShoppingTooltipTemplate"/>		
		<GameTooltip name="OmegaMapTooltip" frameStrata="TOOLTIP" hidden="true" parent="OmegaMapFrame" inherits="GameTooltipTemplate">
			<Frames>
				<Frame parentKey="ItemTooltip" inherits="EmbeddedItemTooltip" hidden="true">
					<Size x="100" y="100"/>
					<Anchors>
					<Anchor point="BOTTOMLEFT" relativePoint="BOTTOMLEFT" x="10" y="13"/>
					</Anchors>
					<KeyValues>
						<KeyValue key="yspacing" value="13" type="number"/>
					</KeyValues>
					<Scripts>
						<OnLoad inherit="prepend">
							self.Tooltip.shoppingTooltips = { OmegaMapCompareTooltip1, OmegaMapCompareTooltip2 };
						</OnLoad>
					</Scripts>
				</Frame>
			</Frames>
			<Scripts>
				<OnLoad>
				self:SetBackdropBorderColor(TOOLTIP_DEFAULT_COLOR.r, TOOLTIP_DEFAULT_COLOR.g, TOOLTIP_DEFAULT_COLOR.b);
				self:SetBackdropColor(TOOLTIP_DEFAULT_BACKGROUND_COLOR.r, TOOLTIP_DEFAULT_BACKGROUND_COLOR.g, TOOLTIP_DEFAULT_BACKGROUND_COLOR.b);
					self.shoppingTooltips = { OmegaMapCompareTooltip1, OmegaMapCompareTooltip2 };
				</OnLoad>
				<OnUpdate>
					if ( self.recalculatePadding ) then
						self.recalculatePadding = nil;
						OmegaMapTooltip_CalculatePadding();
					end
					self.updateTooltip = (self.updateTooltip or TOOLTIP_UPDATE_TIME) - elapsed;
					if ( self.updateTooltip > 0 ) then
						return;
					end
					self.updateTooltip = TOOLTIP_UPDATE_TIME;

					local owner = self:GetOwner();
					if ( owner and owner.UpdateTooltip ) then
						owner:UpdateTooltip();
					end
				</OnUpdate>
				<OnHide inherit="prepend">
					OmegaMapTooltip.ItemTooltip:Hide();
					self:SetPadding(0, 0);
				</OnHide>
				<OnSizeChanged inherit="prepend">
					self.recalculatePadding = true;
				</OnSizeChanged>
			</Scripts>
		</GameTooltip>
		<Frame name="OmegaMapScreenAnchor" hidden="true" movable="true">
			<Size x="1" y="1"/>
			<Anchors>
				<Anchor point="TOPLEFT" x="10" y="-118"/>
			</Anchors>		
		</Frame>
			<Frame name="OmegaMapTaskTooltipStatusBar">
		<Size x="219" y="25"/>
		<Frames>
			<StatusBar parentKey="Bar" drawLayer="BACKGROUND" minValue="0" maxValue="100" defaultValue="0">
				<Size x="215" y="15"/>
				<Anchors>
					<Anchor point="CENTER" x="0" y="0"/>
				</Anchors>
				<Layers>
					<Layer level="BORDER">
						<Texture parentKey="BorderLeft" file="Interface\PaperDollInfoFrame\UI-Character-Skills-BarBorder">
							<Size x="9" y="22"/>
							<Anchors>
								<Anchor point="LEFT" x="-3" y="0"/>
							</Anchors>
							<TexCoords left="0.007843" right="0.043137" top="0.193548" bottom="0.774193"/>
						</Texture>
						<Texture parentKey="BorderRight" file="Interface\PaperDollInfoFrame\UI-Character-Skills-BarBorder">
							<Size x="9" y="22"/>
							<Anchors>
								<Anchor point="RIGHT" x="3" y="0"/>
							</Anchors>
							<TexCoords left="0.043137" right="0.007843" top="0.193548" bottom="0.774193"/>
						</Texture>
						<Texture parentKey="BorderMid" file="Interface\PaperDollInfoFrame\UI-Character-Skills-BarBorder">
							<Anchors>
								<Anchor point="TOPLEFT" relativeKey="$parent.BorderLeft" relativePoint="TOPRIGHT"/>
								<Anchor point="BOTTOMRIGHT" relativeKey="$parent.BorderRight" relativePoint="BOTTOMLEFT"/>
							</Anchors>
							<TexCoords left="0.113726" right="0.1490196" top="0.193548" bottom="0.774193"/>
						</Texture>
						<FontString parentKey="Label" inherits="GameFontHighlightMedium" justifyH="LEFT">
						  <Anchors>
							<Anchor point="CENTER" x="0" y="0"/>
						  </Anchors>
						</FontString>
					</Layer>
					<Layer level="ARTWORK">
						<Texture parentKey="LeftDivider" file="Interface\GuildFrame\GuildFrame">
							<Size x="7" y="14"/>
							<Anchors>
								<Anchor point="LEFT" x="66" y="0"/>
							</Anchors>
							<TexCoords left="0.41601563" right="0.42285156" top="0.91796875" bottom="0.94531250"/>
						</Texture>
						<Texture parentKey="RightDivider" file="Interface\GuildFrame\GuildFrame">
							<Size x="7" y="14"/>
							<Anchors>
								<Anchor point="RIGHT" x="-66" y="0"/>
							</Anchors>
							<TexCoords left="0.41601563" right="0.42285156" top="0.91796875" bottom="0.94531250"/>
						</Texture>
					</Layer>
					<Layer level="BACKGROUND" textureSubLevel="-1">
						<Texture>
							<Color r="0.04" g="0.07" b="0.18"/>
						</Texture>
					</Layer>
				</Layers>
				<BarTexture file="Interface\TargetingFrame\UI-StatusBar"/>
				<BarColor r="0.26" g="0.42" b="1"/>
			</StatusBar>
		</Frames>
	</Frame>
	</Frames>
</Frame>
</Ui>